<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªÜ TH·ªêNG QU√âT QUY HO·∫†CH QU·ªêC GIA 2026</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        :root { --gold: #FFD700; --red: #ff3e3e; --bg: #000b18; }
        body { font-family: 'Roboto Mono', monospace; background: var(--bg); color: #fff; margin: 0; padding: 20px; text-align: center; }
        
        /* Hi·ªáu ·ª©ng Radar nh·∫•p nh√°y */
        .header { margin-top: 20px; border: 1px solid var(--gold); display: inline-block; padding: 10px 20px; border-radius: 5px; box-shadow: 0 0 15px rgba(255,215,0,0.3); }
        .live-dot { height: 10px; width: 10px; background-color: var(--red); border-radius: 50%; display: inline-block; animation: blink 1s infinite; }
        @keyframes blink { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }

        .search-area { max-width: 500px; margin: 30px auto; }
        input { width: 100%; padding: 15px; border: 1px solid var(--gold); background: rgba(0,0,0,0.5); color: var(--gold); border-radius: 5px; outline: none; font-size: 16px; box-sizing: border-box; }
        .btn-scan { width: 100%; margin-top: 10px; padding: 15px; background: var(--gold); color: #000; border: none; font-weight: bold; cursor: pointer; text-transform: uppercase; }

        /* Card k·∫øt qu·∫£ c·ª±c g·∫Øt */
        .card { display: none; background: #fff; color: #000; border-radius: 0; padding: 25px; max-width: 450px; margin: 20px auto; text-align: left; border: 4px solid var(--gold); position: relative; }
        .warning-strip { background: var(--red); color: #fff; padding: 5px; font-size: 12px; font-weight: bold; text-align: center; margin-bottom: 15px; }
        
        .info-row { border-bottom: 1px solid #ddd; padding: 10px 0; display: flex; justify-content: space-between; }
        .price-big { color: #d32f2f; font-size: 24px; font-weight: 900; }

        /* V√πng kh√≥a quy ho·∫°ch */
        .lock-box { background: #000; color: var(--gold); padding: 15px; margin: 15px 0; position: relative; overflow: hidden; }
        .lock-text { filter: blur(5px); font-size: 10px; line-height: 1.2; opacity: 0.5; }
        .unlock-overlay { position: absolute; top:0; left:0; width:100%; height:100%; display:flex; align-items:center; justify-content:center; background: rgba(0,0,0,0.6); }
        .btn-unlock { background: var(--red); color: #fff; padding: 8px 15px; font-size: 11px; font-weight: bold; border: 1px solid #fff; cursor: pointer; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }

        /* QR si√™u n√©t */
        .qr-section { background: #f9f9f9; border: 2px dashed #000; padding: 15px; text-align: center; margin-top: 15px; cursor: pointer; }
        .qr-img { width: 220px; height: 220px; margin-bottom: 10px; border: 1px solid #ccc; }
        
        #toast { position: fixed; top: 10px; right: 10px; background: var(--gold); color: #000; padding: 10px; font-size: 12px; font-weight: bold; display: none; z-index: 999; }
    </style>
</head>
<body>

    <div class="header">
        <span class="live-dot"></span> LIVE: V·ªÜ TINH ƒê·ªäA CH√çNH 2026
    </div>
    
    <div class="search-area">
        <p style="font-size: 12px; color: #888;">H·ªá th·ªëng truy xu·∫•t d·ªØ li·ªáu t·ª´ B·ªô T√†i Nguy√™n M√¥i Tr∆∞·ªùng</p>
        <input type="text" id="inp" placeholder="Nh·∫≠p Th√¥n/X√£/ƒê∆∞·ªùng (VD: T√¢y ƒê·∫±ng)...">
        <button class="btn-scan" onclick="startScan()">KH·ªûI CH·∫†Y QU√âT D·ªÆ LI·ªÜU</button>
    </div>

    <div id="res" class="card">
        <div class="warning-strip">‚ö†Ô∏è C·∫¢NH B√ÅO: PH√ÅT HI·ªÜN D·∫§U HI·ªÜU NGƒÇN CH·∫∂N GIAO D·ªäCH</div>
        <h2 id="rName" style="margin:0; text-transform: uppercase;"></h2>
        
        <div class="info-row"><span>T√¨nh tr·∫°ng:</span> <span style="color:green; font-weight:bold;">ƒêang ho·∫°t ƒë·ªông</span></div>
        <div class="info-row"><span>Gi√° d·ª± ki·∫øn 2026:</span> <span class="price-big" id="rPrice"></span></div>

        <div class="lock-box">
            <div class="unlock-overlay"><div class="btn-unlock">üîí QU√âT QR ƒê·ªÇ GI·∫¢I M√É T·ªåA ƒê·ªò</div></div>
            <div class="lock-text">
                DATA_ENCRYPTED: 0x593482_X_2341912_Y... TH·ª¨A ƒê·∫§T N·∫∞M TRONG QUY HO·∫†CH ƒê∆Ø·ªúNG GIAO TH√îNG LI√äN T·ªàNH... C·∫§M X√ÇY D·ª∞NG KI√äN C·ªê... GI√Å TR·ªä ƒê·ªÄN B√ô TH·∫§P...
            </div>
        </div>

        <div class="qr-section" onclick="fakeConfirm()">
            <p style="margin:0 0 10px 0; font-size:13px; font-weight:bold;">‚òï M·ªúI TR√Ä ƒê√Å 5K - M·ªû KH√ìA NGAY</p>
            <img id="qrImg" class="qr-img" src="">
            <div id="payStatus" style="font-size:11px; color:#f57c00; font-weight:bold;">‚åõ ƒêang ch·ªù x√°c nh·∫≠n t·ª´ ng√¢n h√†ng...</div>
        </div>
        
        <button onclick="location.reload()" style="width:100%; background:#eee; border:none; padding:10px; margin-top:10px; cursor:pointer; font-weight:bold;">H·ª¶Y TRUY XU·∫§T</button>
    </div>

    <div id="toast">üîî <span id="msg"></span></div>

<script>
    const sTing = new Audio('https://assets.mixkit.co/active_storage/sfx/2013/2013-preview.mp3');
    const sScan = new Audio('https://assets.mixkit.co/active_storage/sfx/2568/2568-preview.mp3');

    async function startScan() {
        const v = document.getElementById('inp').value; if(!v) return;
        sScan.play().catch(e => {});
        document.querySelector('.btn-scan').innerText = "üì° ƒêANG K·∫æT N·ªêI...";
        
        try {
            const r = await fetch('/api/search?q=' + encodeURIComponent(v));
            const d = await r.json();
            if(d.length > 0) {
                setTimeout(() => {
                    confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
                    document.getElementById('rName').innerText = "üìç " + d[0].duong;
                    document.getElementById('rPrice').innerText = d[0].gia_2026_du_kien.toLocaleString() + " ƒë";
                    
                    // Link QR PNG si√™u ·ªïn ƒë·ªãnh + cache bust
                    const qUrl = "https://img.vietqr.io/image/LPB-033963180001-compact.png?amount=5000&addInfo=MoKhoa_" + encodeURIComponent(d[0].duong) + "&t=" + Date.now();
                    document.getElementById('qrImg').src = qUrl;
                    
                    document.getElementById('res').style.display = 'block';
                    document.querySelector('.btn-scan').innerText = "KH·ªûI CH·∫†Y QU√âT D·ªÆ LI·ªÜU";
                }, 1500);
            } else { alert("T·ªça ƒë·ªô kh√¥ng t·ªìn t·∫°i trong DB 2026!"); document.querySelector('.btn-scan').innerText = "KH·ªûI CH·∫†Y QU√âT D·ªÆ LI·ªÜU"; }
        } catch(e) { alert("L·ªói k·∫øt n·ªëi Server!"); }
    }

    function fakeConfirm() {
        const status = document.getElementById('payStatus');
        if(status.innerHTML.includes('TH√ÄNH C√îNG')) return;
        
        status.innerHTML = "üì° ƒêang x√°c th·ª±c m√£ giao d·ªãch...";
        setTimeout(() => {
            sTing.play().catch(e => {});
            confetti({ particleCount: 150, spread: 100, colors: ['#FFD700', '#00ff00'] });
            document.querySelector('.qr-section').innerHTML = `
                <div style="background:#e8f5e9; border:2px solid #2e7d32; padding:20px;">
                    <h3 style="color:#1b5e20; margin:0;">‚úÖ TH√ÄNH C√îNG!</h3>
                    <p style="font-size:12px;">ƒê√£ nh·∫≠n 5.000ƒë tr√† ƒë√°. D·ªØ li·ªáu ƒë√£ ƒë∆∞·ª£c gi·∫£i m√£.</p>
                </div>`;
            document.querySelector('.lock-text').style.filter = "none";
            document.querySelector('.lock-text').style.opacity = "1";
            document.querySelector('.unlock-overlay').style.display = "none";
        }, 3000);
    }

    // Th√¥ng b√°o ch·ªët ƒë∆°n ·∫£o
    setInterval(() => {
        const n=["A.Tu·∫•n","C.Lan","BƒêS Ba V√¨","A.H√πng"], a=["T√¢y ƒê·∫±ng","V√¢n Sa","C·ªï ƒê√¥"];
        const t=document.getElementById('toast');
        document.getElementById('msg').innerText = n[Math.floor(Math.random()*4)] + " v·ª´a thanh to√°n t·∫°i " + a[Math.floor(Math.random()*3)];
        t.style.display='block'; setTimeout(()=>t.style.display='none', 5000);
    }, 20000);
</script>
</body>
</html>
