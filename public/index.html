<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Check Gi√° ƒê·∫•t Ba V√¨</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@700;900&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

<style>
body{font-family:'Inter',sans-serif;background:#001a33;color:#fff;text-align:center;padding:20px}
.box{max-width:420px;margin:auto}
input{width:100%;padding:18px;border-radius:12px;font-size:16px;margin-bottom:10px}
button{width:100%;padding:18px;border:none;background:#d4af37;color:#001a33;font-weight:900;border-radius:12px}
.card{display:none;background:#fff;color:#333;border-radius:20px;padding:20px;margin-top:20px}
.map-wrap{position:relative;height:260px;border-radius:15px;overflow:hidden}
#mapFake{width:100%;height:100%;object-fit:cover;filter:blur(3px) grayscale(.5)}
#realMap,#streetView{position:absolute;top:0;left:0;width:100%;height:100%;border:0;display:none}
#overlay{position:absolute;top:0;left:0;width:100%;height:100%;display:none}
.pay{background:#fff9e6;padding:15px;border-radius:15px;margin-top:10px}
.qr{width:200px;margin:auto}
.countdown{color:red;font-weight:900;margin-top:8px}
.data{display:none;margin-top:15px;background:#001a33;color:#00ff41;padding:15px;border-radius:10px;font-family:monospace;text-align:left}
.toast{position:fixed;top:20px;left:20px}
</style>
</head>
<body>

<div class="box">
<h2>CHECK GI√Å ƒê·∫§T BA V√å</h2>
<input id="input" placeholder="Nh·∫≠p t√™n th√¥n (vd: nhuan trach)">
<button onclick="start()">KI·ªÇM TRA</button>
</div>

<div class="card" id="card">
<h3 id="title"></h3>
<div style="font-size:28px;color:#e74c3c;font-weight:900">18.500.000 ƒë/m¬≤</div>

<div class="map-wrap">
<img id="mapFake" src="https://baovietnam.com.vn/wp-content/uploads/2022/05/quy-hoach-huyen-ba-vi.jpg">
<iframe id="realMap"></iframe>
<iframe id="streetView"></iframe>
<div id="overlay"></div>
</div>

<div class="pay" id="payBox">
<b>üîê M·ªü kh√≥a quy ho·∫°ch chi ti·∫øt ‚Äì 5.000ƒë</b>
<img class="qr" id="qr">
<div class="countdown" id="timer">‚è≥ D·ªØ li·ªáu s·∫Ω t·ª± kh√≥a sau 120s</div>
<div onclick="unlock()" style="cursor:pointer;color:red;font-weight:900">ƒê√£ chuy·ªÉn kho·∫£n? B·∫•m v√†o ƒë√¢y</div>
</div>

<div class="data" id="dataBox"></div>

</div>

<script>

let query="";
let timeLeft=120;
let timerInterval;

const dict={
"nhuan trach":"Th√¥n Nhu·∫≠n Tr·∫°ch, Khu v·ª±c V·∫°n Th·∫Øng",
"van sa":"Th√¥n V·∫°n Sa, Khu v·ª±c V·∫°n Th·∫Øng",
"chu quyen":"Th√¥n Chu Quy·∫øn, Khu v·ª±c Chu Minh"
};

function clean(str){
return str.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/ƒë/g,"d");
}

function start(){
let val=document.getElementById("input").value.trim();
if(!val) return;

let key=clean(val);
let name=dict[key]||val;

document.getElementById("title").innerText=name;
query=encodeURIComponent(name+", Ba V√¨, H√† N·ªôi");

document.getElementById("qr").src=
`https://img.vietqr.io/image/LPBANK-033963180001-compact2.png?amount=5000&addInfo=${encodeURIComponent("CheckGia "+val)}&t=${Date.now()}`;

document.getElementById("card").style.display="block";

startCountdown();
}

function startCountdown(){
timerInterval=setInterval(()=>{
timeLeft--;
document.getElementById("timer").innerText=
"‚è≥ D·ªØ li·ªáu s·∫Ω t·ª± kh√≥a sau "+timeLeft+"s";
if(timeLeft<=0){
clearInterval(timerInterval);
document.getElementById("payBox").innerHTML="<b style='color:red'>‚ö†Ô∏è Phi√™n ki·ªÉm tra ƒë√£ h·∫øt h·∫°n</b>";
}
},1000);
}

function unlock(){

confetti({particleCount:200,spread:100});

document.getElementById("mapFake").style.display="none";
document.getElementById("realMap").style.display="block";
document.getElementById("streetView").style.display="block";
document.getElementById("overlay").style.display="block";
document.getElementById("payBox").style.display="none";

document.getElementById("realMap").src=
`https://www.google.com/maps?q=${query}&t=k&z=19&output=embed`;

document.getElementById("streetView").src=
`https://www.google.com/maps?q=${query}&layer=c&output=embed`;

document.getElementById("overlay").style.background="rgba(255,0,0,.18)";

document.getElementById("dataBox").style.display="block";
document.getElementById("dataBox").innerHTML=
"‚úÖ H·ªÜ T·ªåA ƒê·ªò: VN-2000<br>"+
"T·ªåA ƒê·ªò X: "+(594000+Math.random()*800).toFixed(1)+"<br>"+
"T·ªåA ƒê·ªò Y: "+(2342000+Math.random()*800).toFixed(1)+"<br>"+
"LO·∫†I ƒê·∫§T: ƒê·∫•t ·ªü (ONT)<br>"+
"T√åNH TR·∫†NG: S·∫°ch 100%";

clearInterval(timerInterval);
}

</script>

</body>
</html>
